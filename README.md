 # “Hot ticket” Flight club (API - Проект)
В Гугл таблице указаны города и средние цены перелётов. Програма ищет горячие цены  за период 6 месяцев с завтрашнего дня (перелёт в обе стороны).
Пользователь формирует запрос - вводит имя, фамилию, телефон, почту, IATA города. Получает смс и сообщение на email о найденном рейсе, если существуют цены ниже средних (указанных).

## Используемые ресурсы
-	Google sheet, 
-	Sheety API, 
-	Kiwi Partners Tequilla API,
-	Sms API Twilio, 
-	SMTP outlook
Модули и библиотеки: datetime , reqests, os, twilio.reat, smtplib. 

## Структура проекта
Для удобства  управления данными создано 4 класса:
1.	**DataManager** - отвечает за общение с Google Sheet данными.
2.	**FlightSearch** – отвечает за поиск и обработку информации о перелётах.
3.	**FlightData** - отвечает за структурирование данных о перелётах.
4.	**NotificationManager** - отвечает за отправку смс и электронной почты.

## Процесс программы
1. Вначале программа делает запрос и получает данные из Google sheet таблица “prices” **( def get_destination_data() )**. 
2. Пользователь вводит необходимые данные, которые отправляются в таблицу “users” в Google sheet **( def new_user() )**.
3. Происходит проверка данных. Если в таблице prices не указаны IATA городов , то выполняется функция **( def get_destination_code() )**, которая делает запрос к Kiwi Partners Tequilla API и возвращает необходимый код аэропорта каждому городу. При этом выполняется функция **( def  update_destination_codes() )** и происходит обновление необходимых данных в таблице “prices”.
4. С помощью модуля datetime определяем дату завтрашнего дня и дня через 6 месяцев.
5. Для всех направлений из списка данных городов ищем возможные рейсы используя функцию **( def check_flight() )**
6. Делаем проверку горячего билета. Если цена найденного рейса ниже указанной средней цены,  то с помощью функций **( def send_sms() )** и **( def send_email() )** отправляем на указанный номер и почту пользователя сообщение с горячим предложением.


